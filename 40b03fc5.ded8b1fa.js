(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{117:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/os-architecture-7ab232cdbc604d99bdab4c6bd51cdaae.png"},69:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return i}));var n=a(3),b=a(7),c=(a(0),a(82)),r={id:"fronted",title:"Fronted",slug:"architecture/fronted"},l={unversionedId:"fronted",id:"fronted",isDocsHomePage:!1,title:"Fronted",description:"Code repositories",source:"@site/docs/fronted.md",slug:"/architecture/fronted",permalink:"/architecture/fronted",editUrl:"https://github.com/opensquare-network/docs/tree/master/website/docs/fronted.md",version:"current",sidebar:"docs",previous:{title:"Pallets",permalink:"/architecture/pallets"}},s=[{value:"Code repositories",id:"code-repositories",children:[]},{value:"Logical architecture",id:"logical-architecture",children:[]},{value:"Content server apis",id:"content-server-apis",children:[]},{value:"OS-Scan server apis",id:"os-scan-server-apis",children:[{value:"Accounts apis",id:"accounts-apis",children:[]},{value:"Block apis",id:"block-apis",children:[]},{value:"Event apis",id:"event-apis",children:[]},{value:"Extrinsic apis",id:"extrinsic-apis",children:[]},{value:"Bounty apis",id:"bounty-apis",children:[]},{value:"Councilor apis",id:"councilor-apis",children:[]}]}],p={rightToc:s};function i(e){var t=e.components,r=Object(b.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h2",{id:"code-repositories"},"Code repositories"),Object(c.b)("p",null,"There are 2 repositories to serve the fronted part of whole OpenSquare business."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/opensquare-network/dapps"}),"Dapps")," includes 2 parts:",Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},"code of front pages written with react and redux"),Object(c.b)("li",{parentName:"ul"},"a content server which serve the bounty detail content"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/opensquare-network/os-scan"}),"os-scan")," includes 3 parts:",Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},"scan scripts which track the blocks, extract the business and save the corresponding data to MongoDB."),Object(c.b)("li",{parentName:"ul"},"server which serve the restful APIs for explorer and dapps front pages."),Object(c.b)("li",{parentName:"ul"},"site which is the code for explorer pages written with react and redux.")))),Object(c.b)("h2",{id:"logical-architecture"},"Logical architecture"),Object(c.b)("p",null,"Generally we can see the logical parts in following charts and how their works with each other."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Substrate based OpenSquare chain which produce blocks."),Object(c.b)("li",{parentName:"ul"},"Scan scripts which scan blocks and save business data to MongoDB."),Object(c.b)("li",{parentName:"ul"},"Scan server which provide restful apis to Dapp and explorer."),Object(c.b)("li",{parentName:"ul"},"Dapp which interact with the OpenSquare chain."),Object(c.b)("li",{parentName:"ul"},"Explorer which help view the blocks, extrinsics, events and other business data.")),Object(c.b)("p",null,Object(c.b)("img",{alt:"Architecture",src:a(117).default})),Object(c.b)("h2",{id:"content-server-apis"},"Content server apis"),Object(c.b)("h4",{id:"post-bounty-detail-to-content-server"},"Post bounty detail to content server"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"POST https://content.opensquare.network/content\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"description: the bounty detail"),Object(c.b)("li",{parentName:"ul"},"hash: blake2 hash of the detail")),Object(c.b)("h4",{id:"get-bounty-detail-by-hash"},"Get bounty detail by hash"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://content.opensquare.network/content/:hash\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"hash: blake2 hash of the detail")),Object(c.b)("h2",{id:"os-scan-server-apis"},"OS-Scan server apis"),Object(c.b)("h3",{id:"accounts-apis"},"Accounts apis"),Object(c.b)("h4",{id:"list-accounts"},"List accounts"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"get-account-detail-information"},"Get account detail information"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("h4",{id:"list-extrinsics-that-are-related-to-account"},"List extrinsics that are related to account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/extrinsics\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-accounts-funded-bounties"},"List account's funded bounties"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/fundbounties\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-accounts-hunted-bounties"},"List account's hunted bounties"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/huntbounties\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-bounties-that-the-account-is-applying-as-hunter"},"List bounties that the account is applying as hunter"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/applyingbounties\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-bounties-that-are-assigned-to-the-account"},"List bounties that are assigned to the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/assignedbounties\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-accounts-extrinsics"},"List account's extrinsics"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/behaviors\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-pending-approved-bounties-created-by-the-account"},"List pending approved bounties created by the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/pendingapprove\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-the-approvedrejected-bounties-created-by-by-the-account"},"List the approved/rejected bounties created by by the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/examinedbounties\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"count-the-number-of-bounties-hunting-by-the-account"},"Count the number of bounties hunting by the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/applyingbountiescount\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"count-the-number-of-bounties-assigned-to-the-account"},"Count the number of bounties assigned to the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/assignedbountiescount\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"count-the-number-of-extrinsics-sent-by-the-account"},"Count the number of extrinsics sent by the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/behaviorscount\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"count-the-number-of-pendding-approved-bunties-created-by-the-account"},"Count the number of pendding approved bunties created by the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/pendingapprovecount\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"count-the-number-of-approvedrejected-bunties-created-by-the-account"},"Count the number of approved/rejected bunties created by the account"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/accounts/:address/examinedbountiescount\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ss58format address of the account")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h3",{id:"block-apis"},"Block apis"),Object(c.b)("h4",{id:"list-blocks"},"List blocks"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/blocks\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"get-block-detail"},"Get block detail"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/blocks/:heightOrHashOrId\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"heightOrHashOrId: block height or block hash or mongo id")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-block-extrinsics"},"List block extrinsics"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/blocks/:heightOrHashOrId/extrinsics\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"heightOrHashOrId: block height or block hash or mongo id")),Object(c.b)("h4",{id:"list-block-events"},"List block events"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/blocks/:heightOrHashOrId/events\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"heightOrHashOrId: block height or block hash or mongo id")),Object(c.b)("h3",{id:"event-apis"},"Event apis"),Object(c.b)("h4",{id:"list-events"},"List events"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/events\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"get-event-detail"},"Get event detail"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/events/:id\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"id: event hash / ","[block height]","-","[event index]"," / mongo id")),Object(c.b)("h3",{id:"extrinsic-apis"},"Extrinsic apis"),Object(c.b)("h4",{id:"list-extrinsics"},"List extrinsics"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/extrinsics\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"get-extrinsic-detail"},"Get extrinsic detail"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/extrinsics/:id\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"id: extrinsic hash / ","[block height]","-","[extrinsic index]"," / mongo id")),Object(c.b)("h3",{id:"bounty-apis"},"Bounty apis"),Object(c.b)("h4",{id:"list-bounties"},"List bounties"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/bounties\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"list-bounties-that-can-be-applied-by-hunters"},"List bounties that can be applied by hunters"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/bounties/huntable\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")),Object(c.b)("h4",{id:"get-bounty-detail"},"Get bounty detail"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/bounties/:bountyId\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"bountyId: unique id of the bounty")),Object(c.b)("h4",{id:"get-bounty-hunters"},"Get bounty hunters"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/bounties/:bountyId/hunters\n")),Object(c.b)("p",null,"params:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"bountyId: unique id of the bounty")),Object(c.b)("h3",{id:"councilor-apis"},"Councilor apis"),Object(c.b)("h4",{id:"list-pendding-approved-bounties"},"List pendding approved bounties"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"GET https://api.opensquare.network/councilor/pendingapprove\n")),Object(c.b)("p",null,"queries:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"page: the page index"),Object(c.b)("li",{parentName:"ul"},"page_size: number of row per page")))}i.isMDXComponent=!0}}]);